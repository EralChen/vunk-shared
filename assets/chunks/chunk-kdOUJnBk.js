import{d as I,r as h,v as x,o as w,c as k,t as v}from"./chunk-_QdO8a9e.js";import"./chunk-CJMEDYvw.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */function _(e){const d=new Map,a=new Map;e.forEach(t=>{d.set(t.id,t),t.nextId&&a.set(t.nextId,t)});const r=new Set,p=new Map,m=t=>{const o=[],n=new Set;let i=t;for(;i&&!r.has(i.id);)o.push(i),r.add(i.id),n.add(i.id),i=i.nextId?d.get(i.nextId):void 0;return[n,o]},l=e.filter(t=>!a.has(t.id));function s(t){const[o,n]=m(t);[...o].forEach((i,f)=>{p.set(i,{id:i,link:n,index:f})})}l.forEach(s),e.forEach(t=>{r.has(t.id)||s(t)});const c=new Map,u=e.map(t=>{const o=p.get(t.id);if(!o)throw new Error("No info found");const n=o.link,i={isCycle:n[n.length-1].nextId===n[0].id,raw:t,id:t.id,endId:n[n.length-1].id,startId:n[0].id,nextId:t.nextId||"",prevId:n[o.index-1]?.id||""};return c.set(t.id,i),i});return{rawMap:d,data:u,dataMap:c}}const $=I({__name:"basic",setup(e){const d=h([{id:"3",nextId:"4"},{id:"4",nextId:"1"},{id:"1",nextId:"2"},{id:"2",nextId:"3"},{id:"5",nextId:"6"},{id:"6",nextId:"7"},{id:"7",nextId:""}]),a=x(()=>{const{data:r}=_(d.value);return console.log(r),r});return(r,p)=>(w(),k("div",null,v(a.value),1))}});export{$ as default};
