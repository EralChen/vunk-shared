import{d as h,r as x,v as w,o as m,c as k,t as v}from"./chunk-DmNnn0to.js";import"./chunk-CJMEDYvw.js";function _(a){const s=new Map,o=new Map;a.forEach(t=>{s.set(t.id,t),t.nextId&&o.set(t.nextId,t)});const d=new Set,c=new Map,p=t=>{const i=[],e=new Set;let n=t;for(;n&&!d.has(n.id);)i.push(n),d.add(n.id),e.add(n.id),n=n.nextId?s.get(n.nextId):void 0;return[e,i]},u=a.filter(t=>!o.has(t.id));function r(t){const[i,e]=p(t);[...i].forEach((n,I)=>{c.set(n,{id:n,link:e,index:I})})}u.forEach(r),a.forEach(t=>{d.has(t.id)||r(t)});const l=new Map,f=a.map(t=>{const i=c.get(t.id);if(!i)throw new Error("No info found");const e=i.link,n={isCycle:e[e.length-1].nextId===e[0].id,raw:t,id:t.id,endId:e[e.length-1].id,startId:e[0].id,nextId:t.nextId||"",prevId:e[i.index-1]?.id||""};return l.set(t.id,n),n});return{rawMap:s,data:f,dataMap:l}}const E=h({__name:"basic",setup(a){const s=x([{id:"3",nextId:"4"},{id:"4",nextId:"1"},{id:"1",nextId:"2"},{id:"2",nextId:"3"},{id:"5",nextId:"6"},{id:"6",nextId:"7"},{id:"7",nextId:""}]),o=w(()=>{const{data:d}=_(s.value);return console.log(d),d});return(d,c)=>(m(),k("div",null,v(o.value),1))}});export{E as default};
