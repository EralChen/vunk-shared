import{c as l,o as k,h as t,a as i,j as s,i as n,e,_ as r,f as p}from"../chunks/chunk-CqyrWHim.js";import{u as E}from"../chunks/chunk-BIhtd8Mu.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */import"../chunks/chunk-D-Re98Cy.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */const d={class:"vp-doc VPDoc doc-content"},g={__name:"+Page",setup(F,{expose:h}){return h({frontmatter:{}}),E(),(o,a)=>(k(),l("div",d,a[0]||(a[0]=[t('<h1 id="xstream" tabindex="-1">XStream <a class="header-anchor" href="#xstream" aria-label="Permalink to &quot;XStream&quot;">​</a></h1><p>ref: <a href="https://github.com/ant-design/x/blob/main/components/x-stream/index.ts" target="_blank" rel="noreferrer">XStream</a></p><h2 id="source" tabindex="-1">Source <a class="header-anchor" href="#source" aria-label="Permalink to &quot;Source&quot;">​</a></h2>',3),i("div",{class:"language-ts"},[i("button",{class:"copy"}),i("span",{class:"lang"},"ts"),i("pre",{class:"shiki shiki-themes github-dark github-light",style:{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},tabindex:"0"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"// ref: https://github.com/ant-design/x/blob/main/components/x-stream/index.ts")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," default separator for "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"{"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," splitStream"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," DEFAULT_STREAM_SEPARATOR"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," '"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"\\n\\n"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},"'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," Default separator for "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"{"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," splitPart"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@example"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},' "event: delta\\ndata: {\\"key\\": \\"value\\"}"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," DEFAULT_PART_SEPARATOR"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," '"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"\\n"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},"'")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," Default separator for key value, A colon (`:`) is used to separate keys from values")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@example"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},' "event: delta"')]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," DEFAULT_KV_SEPARATOR"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," ':'")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * Check if a string is not empty or only contains whitespace characters")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"const"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," isValidString"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"str"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},":"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," string"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"=>"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," (str "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"??"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," ''"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"trim"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"() "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"!=="),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," ''")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," A TransformStream inst that splits a stream into parts based on "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"{"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," DEFAULT_STREAM_SEPARATOR"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@example")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * `event: delta")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * data: { content: 'hello' }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * event: delta")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * data: { key: 'world!' }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * `")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"function"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," splitStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," () {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"  // Buffer to store incomplete data chunks between transformations")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  let"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," buffer "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," ''")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  return"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," new"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," TransformStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"string"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"string"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">({")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"    transform"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"streamChunk"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"controller"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      buffer "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"+="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," streamChunk")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"      // Split the buffer based on the separator")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," parts"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," buffer."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"split"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"DEFAULT_STREAM_SEPARATOR"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"      // Enqueue all complete parts except for the last incomplete one")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      parts."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"slice"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"0"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"-"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"1"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"forEach"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"part"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"=>"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"        // Skip empty parts")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"isValidString"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(part)) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"          controller."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"enqueue"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(part)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"        }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      })")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"      // Save the last incomplete part back to the buffer for the next chunk")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      buffer "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," parts[parts."),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"length"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," -"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," 1"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"]")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"    },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"    flush"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"controller"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"      // If there's any remaining data in the buffer, enqueue it as the final part")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"isValidString"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(buffer)) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"        controller."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"enqueue"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(buffer)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"    },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  })")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events#fields")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"export"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," type"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," SSEFields"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," 'data'"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," |"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," 'event'"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," |"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," 'id'"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," |"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," 'retry'")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@example")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * const sseObject = {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," *    event: 'delta',")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},` *    data: '{ key: "world!" }',`)]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * };")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"export"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," type"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," SSEOutput"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," Partial"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"Record"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"SSEFields"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"any"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">>")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," A TransformStream inst that transforms a part string into "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"{"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," SSEOutput"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@example"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," part string")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},` * "event: delta\\ndata: { key: 'world!' }\\n"`)]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," https://developer.mozilla.org/en-US/docs/Web/API/EventSource")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," *")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * When handling responses with `Content-Type: text/event-stream`, the following standard practices are commonly observed:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * - Double newline characters (`\\n\\n`) are used to separate individual events.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * - Single newline characters (`\\n`) are employed to separate line within an event.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"function"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," splitPart"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," () {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  return"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," new"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," TransformStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"string"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"SSEOutput"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">({")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"    transform"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"partChunk"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"controller"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"      // Split the chunk into key-value pairs using the partSeparator")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," lines"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," partChunk."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"split"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"DEFAULT_PART_SEPARATOR"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," sseEvent"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," lines."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"reduce"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"SSEOutput"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">(("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"acc"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"line"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"=>"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," separatorIndex"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," line."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"indexOf"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"DEFAULT_KV_SEPARATOR"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," (separatorIndex "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"==="),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," -"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"1"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"          throw"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," new"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," Error"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},'            `The key-value separator "${'),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"DEFAULT_KV_SEPARATOR"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},'}" is not found in the sse line chunk!`'),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},",")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"          )")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"        }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"        // Extract the key from the beginning of the line up to the separator")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," key"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," line."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"slice"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"0"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", separatorIndex)")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"        // The colon is used for comment lines, skip directly")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"!"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"isValidString"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(key))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"          return"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," acc")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"        // Extract the value from the line after the separator")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," value"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," line."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"slice"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(separatorIndex "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"+"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," 1"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        return"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," { "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"..."),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"acc, [key]: value }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      }, {})")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," (Object."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"keys"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(sseEvent)."),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"length"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ==="),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," 0"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        return")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"      // Reduce the key-value pairs into a single object and enqueue")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      controller."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"enqueue"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(sseEvent)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"    },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  })")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"export"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," interface"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," XStreamOptions"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"Output"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"> {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"  /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"   * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," Readable stream of binary data")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"   * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"   */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"  readableStream"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},":"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," ReadableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"Uint8Array"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"  /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"   * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," Support customizable transformStream to transform streams")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"   * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@default"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," sseTransformStream")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"   * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," https://developer.mozilla.org/en-US/docs/Web/API/TransformStream")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"   */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"  transformStream"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"?:"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," TransformStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"string"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"Output"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"}")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"type"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," XReadableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"R"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," SSEOutput"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"> "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," ReadableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"R"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"> "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"&"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," AsyncGenerator"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"R"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"/**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@description"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," Transform Uint8Array binary stream to "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"{"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," SSEOutput"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"}"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," by default")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," * "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@warning"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," The `XStream` only support the `utf-8` encoding. More encoding support maybe in the future.")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"export"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," function"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," XStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"Output"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," SSEOutput"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"> ("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"options"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},":"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," XStreamOptions"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"Output"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  const"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," { "),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"readableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"transformStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," } "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," options")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"!"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(readableStream "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"instanceof"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," ReadableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"    throw"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," new"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," TypeError"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},"'The options.readableStream must be an instance of ReadableStream.'"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"  // Default encoding is `utf-8`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," decoderStream"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," new"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," TextDecoderStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"()")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  const"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," stream"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," (")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"    transformStream")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      ?"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"         * Uint8Array binary -> string -> Output")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"         */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      readableStream."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"pipeThrough"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(decoderStream)."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"pipeThrough"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(transformStream)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      :"),i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}}," /**")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"         * Uint8Array binary -> string -> SSE part string -> Default Output "),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"{"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"@link"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," SSEOutput"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"}")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"         */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"      readableStream")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"        ."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"pipeThrough"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(decoderStream)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"        ."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"pipeThrough"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"splitStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"        ."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"pipeThrough"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"splitPart"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"())")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  ) "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"as"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," XReadableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"<"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"Output"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},">")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"  /** support async iterator */")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  stream[Symbol.asyncIterator] "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," async"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," function*"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," () {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"    const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," reader"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," this"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"getReader"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"()")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"    while"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"true"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      const"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," { "),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"done"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},", "),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"value"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," } "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," await"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," reader."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"read"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"()")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," (done)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        break")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      if"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"!"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"value)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        continue")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"}},"      // Transformed data through all transform pipes")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      yield"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," value")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"    }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  return"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," stream")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"}")])])])],-1),i("p",null,"ai/openai/XStream",-1),i("h2",{id:"mock-可读流示例",tabindex:"-1"},[s("mock 可读流示例 "),i("a",{class:"header-anchor",href:"#mock-可读流示例","aria-label":'Permalink to "mock 可读流示例"'},"​")],-1),i("div",{class:"language-ts"},[i("button",{class:"copy"}),i("span",{class:"lang"},"ts"),i("pre",{class:"shiki shiki-themes github-dark github-light",style:{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},tabindex:"0"},[i("code",{"v-pre":""},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"function"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," mockReadableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," () {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," sseChunks"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},":"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," string"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"[] "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," []")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  for"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"let"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," i "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"="),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," 0"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"; i "),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"<"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," contentChunks."),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"length"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"; i"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"++"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"    const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," sseEventPart"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," ="),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}}," `event: message"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"\\n"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},'data: {"id":"${'),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"i"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},'}","content":"${'),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"contentChunks"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},"["),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"i"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},"]"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},'}"}'),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"\\n\\n"),i("span",{style:{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"}},"`")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"    sseChunks."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"push"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(sseEventPart)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  }")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"  return"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," new"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," ReadableStream"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"({")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"    async"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," start"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"controller"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},") {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"      for"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," ("),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"const"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," chunk"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," of"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}}," sseChunks) {")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"        await"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," new"),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}}," Promise"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"}},"resolve"),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}}," =>"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," setTimeout"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(resolve, "),i("span",{style:{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"}},"100"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"        controller."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"enqueue"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"("),i("span",{style:{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"}},"new"),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}}," TextEncoder"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"()."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"encode"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"(chunk))")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      }")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"      controller."),i("span",{style:{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"}},"close"),i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"()")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"    },")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"  })")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"}},"}")])])])],-1)])))}},y=Object.freeze(Object.defineProperty({__proto__:null,default:g},Symbol.toStringTag,{value:"Module"})),ki={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"@vunk-shared/vike/vue/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:p}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/zh-CN/component/ai/openai/XStream/+Page.md",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:y}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/src/layouts/default/index.vue",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:r}]},lang:{type:"standard",definedAtData:{filePathToShowToUser:"/renderer/+lang.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:e}},onCreateApp:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/pages/+onCreateApp.ts",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"plus-file",exportValues:n}]}};export{ki as configValuesSerialized};
